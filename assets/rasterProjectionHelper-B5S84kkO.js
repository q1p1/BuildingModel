const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/geometryEngine-BJSIpBDH.js","assets/index-CBbuaskE.js","assets/geometryEngineBase-yFIvKOkM.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/hydrated-BJDSlwIU.js"])))=>i.map(i=>d[i]);
import{cS as I,cT as Pn,_ as bn,ap as O,cU as C,cV as z,cb as Sn,v as xn,as as E,bY as En,J as kn,e as Nn,cW as tn,cX as N,cY as k,cZ as en,c_ as Gn,c$ as _n,av as vn}from"./index-CBbuaskE.js";var V;function mn(n,t,i){return!kn(n,t,i)}function $(n,t,i){const s=mn(n,t,i);if(s&&!I())throw new Nn("rasterprojectionhelper-project","projection engine is not loaded");return s}(function(n){n[n.None=0]="None",n[n.North=1]="North",n[n.South=2]="South",n[n.Both=3]="Both"})(V||(V={}));const on=(n,t,i,s=0)=>{if(i[0]===1)return[0,0];let r=1,e=-1,o=1,c=-1;for(let u=0;u<n.length;u+=2)isNaN(n[u])||(r=r>n[u]?n[u]:r,e=e>n[u]?e:n[u],o=o>n[u+1]?n[u+1]:o,c=c>n[u+1]?c:n[u+1]);const{cols:f,rows:a}=t,l=(e-r)/f/i[0],d=(c-o)/a/i[1],y=2*s;let x=0,m=!1,h=[0,0];for(let u=0;u<f-3;u++){for(let R=0;R<a-3;R++){const g=u*a*2+2*R,p=(n[g]+n[g+4]+n[g+4*a]+n[g+4*a+4])/4,w=(n[g+1]+n[g+5]+n[g+4*a+1]+n[g+4*a+5])/4,M=Math.abs((p-n[g+2*a+2])/l),P=Math.abs((w-n[g+2*a+3])/d);if(M+P>x&&(x=M+P,h=[M,P]),y&&x>y){m=!0;break}}if(m)break}return h},Tn={3395:20037508342789244e-9,3410:17334193943686873e-9,3857:20037508342788905e-9,3975:17367530445161372e-9,4087:20037508342789244e-9,4088:20015108787169147e-9,6933:17367530445161372e-9,32662:20037508342789244e-9,53001:2001508679602057e-8,53002:1000754339801029e-8,53003:2001508679602057e-8,53004:2001508679602057e-8,53016:14152803599503474e-9,53017:17333573624304302e-9,53034:2001508679602057e-8,53079:20015114352186374e-9,53080:20015114352186374e-9,54001:20037508342789244e-9,54002:10018754171394624e-9,54003:20037508342789244e-9,54004:20037508342789244e-9,54016:14168658027268292e-9,54017:1736753044516137e-8,54034:20037508342789244e-9,54079:20037508342789244e-9,54080:20037508342789244e-9,54100:20037508342789244e-9,54101:20037508342789244e-9},A=32,Y=4,J=Y,X=new Map,K=new Map,j=500;let sn=null;async function Fn(){sn&&I()||(I()||await Pn(),sn=await bn(()=>import("./geometryEngine-BJSIpBDH.js"),__vite__mapDeps([0,1,2,3,4])))}function Cn(n,t,i){return $(n.spatialReference,t),i?tn(t,n.spatialReference,n):tn(n.spatialReference,t,n)}function qn(n,t,i,s=null){const r=n.spatialReference;if(!r||!t||r.equals(t))return n;$(r,t,s);const e=i.center,o=new O({xmin:e.x-n.x/2,xmax:e.x+n.x/2,ymin:e.y-n.y/2,ymax:e.y+n.y/2,spatialReference:r}),c=C(o,t,s),f=G(t);return c==null||f!=null&&c.width>=f?$n(n,r,t):{x:c.width,y:c.height}}function $n(n,t,i){const s=z(t)/z(i);return{x:n.x*s,y:n.y*s}}function S(n,t=.01){return z(n)?t/z(n):0}function rn(n,t,i=null,s=!0){const r=n.spatialReference;if(r.equals(t))return n;$(r,t,i);const e=C(n,t,i);return s&&e&&hn([n],[e],r,t),e}function hn(n,t,i,s){const r=B(i,!0),e=B(s,!0),o=S(i,j),c=S(s,j);if(o&&r!=null&&e!=null)for(let f=0;f<n.length;f++){const a=t[f];if(!a)continue;const{x:l}=n[f],{x:d}=a;d>=e[1]-c&&Math.abs(l-r[0])<o?a.x-=e[1]-e[0]:d<=e[0]+c&&Math.abs(l-r[1])<o&&(a.x+=e[1]-e[0])}}function Wn(n){const{inSR:t,outSR:i,datumTransformation:s,preferPE:r}=n;if(t.equals(i)){const{points:e}=D(n,null);return e}return t.isWebMercator&&i.isWGS84||t.isWGS84&&i.isWebMercator?On(n):$(t,i,s)&&r&&(t.isGeographic||T(t)!=null)?an(n):zn(n)}function zn(n){const{points:t}=D(n,null),{inSR:i,outSR:s,datumTransformation:r}=n,e=t.map(c=>new E(c[0],c[1],i)),o=C(e,s,r);return r&&hn(e,o,i,s),o.map(c=>c?[c.x,c.y]:[NaN,NaN])}function an(n){const{inSR:t,outSR:i,datumTransformation:s}=n,r=T(t),{points:e,mask:o}=D(n,r);if(!t.isGeographic){const f=t.wkid?N.coordsys(t.wkid):N.fromString(t.isGeographic?k.PE_TYPE_GEOGCS:k.PE_TYPE_PROJCS,t.wkt2||t.wkt);en.projToGeog(f,e.length,e)}if(s!=null&&s.steps.length){let f;if(i.isGeographic&&(f=e.map(([l])=>l>179.9955?1:l<-179.9955?-1:0)),s.steps.forEach(l=>{const d=l.wkid?N.geogtran(l.wkid):N.fromString(k.PE_TYPE_GEOGTRAN,l.wkt);Gn.geogToGeog(d,e.length,e,null,l.isInverse?k.PE_TRANSFORM_2_TO_1:k.PE_TRANSFORM_1_TO_2)}),f)for(let l=0;l<e.length;l++){const d=f[l],y=e[l][0],x=y>179.9955?1:y<-179.9955?-1:0;d&&x&&d!==x&&(e[l][0]=d>0?y+360:y-360)}}if(!i.isGeographic){const f=T(i,!0),a=f!=null&&f.isEnvelope?[f.bbox[1],f.bbox[3]]:[-90,90];Ln(e,a);const l=i.wkid?N.coordsys(i.wkid):N.fromString(i.isGeographic?k.PE_TYPE_GEOGCS:k.PE_TYPE_PROJCS,i.wkt2||i.wkt);en.geogToProj(l,e.length,e)}let c=e;if(o&&e.length!==o.length){c=[];for(let f=0,a=0;f<o.length;f++)o[f]?c.push(e[a++]):c.push([NaN,NaN])}return c}function On(n){const{cols:t,rows:i,xres:s,yres:r,usePixelCenter:e,inSR:o,outSR:c}=n;let{xmin:f,ymax:a}=n;e&&(f+=s/2,a-=r/2);const l=[],d=[],y=Math.max(t,i);for(let m=0;m<y;m++){const h=f+s*Math.min(t,m),u=a-r*Math.min(i,m),R=C(new E({x:h,y:u,spatialReference:o}),c);m<=t&&l.push(R.x),m<=i&&d.push(R.y)}const x=[];for(let m=0;m<t;m++)for(let h=0;h<i;h++)x.push([l[m],d[h]]);return x}function T(n,t=!1){let i=n.wkid||n.wkt2||n.wkt;if(!i||n.isGeographic)return null;if(i=String(i),X.has(i)){const o=X.get(i);return t?o==null?void 0:o.gcs:o==null?void 0:o.pcs}const s=n.wkid?N.coordsys(n.wkid):N.fromString(n.isGeographic?k.PE_TYPE_GEOGCS:k.PE_TYPE_PROJCS,n.wkt2||n.wkt),r=ln(s,S(n,1e-4)),e=ln(s,0,!0);return X.set(i,{pcs:r,gcs:e}),t?e:r}function ln(n,t=0,i=!1){const s=_n.generate(n),r=i?n.horizonGcsGenerate():n.horizonPcsGenerate();if(!s||!(r!=null&&r.length))return null;let e=!1,o=r.find(u=>u.getInclusive()===1&&u.getKind()===1);if(!o){if(o=r.find(u=>u.getInclusive()===1&&u.getKind()===0),!o)return null;e=!0}const c=i?0:(s.getNorthPoleLocation()===2?1:0)|(s.getSouthPoleLocation()===2?2:0),f=s.isPannableRectangle(),a=o.getCoord();if(e)return{isEnvelope:e,isPannable:f,vertices:a,coef:null,bbox:[a[0][0]-t,a[0][1]-t,a[1][0]+t,a[1][1]+t],poleLocation:c};let l=0;const d=[];let[y,x]=a[0],[m,h]=a[0];for(let u=0,R=a.length;u<R;u++){l++,l===R&&(l=0);const[g,p]=a[u],[w,M]=a[l];if(M===p)d.push([g,w,p,M,2]);else{const P=(w-g)/(M-p||1e-4),_=g-P*p;p<M?d.push([P,_,p,M,0]):d.push([P,_,M,p,1])}y=y<g?y:g,x=x<p?x:p,m=m>g?m:g,h=h>p?h:p}return{isEnvelope:!1,isPannable:f,vertices:a,coef:d,bbox:[y,x,m,h],poleLocation:c}}function D(n,t){const i=[],{cols:s,rows:r,xres:e,yres:o,usePixelCenter:c}=n;let{xmin:f,ymax:a}=n;if(c&&(f+=e/2,a-=o/2),t==null){for(let x=0;x<s;x++)for(let m=0;m<r;m++)i.push([f+e*x,a-o*m]);return{points:i}}const l=new Uint8Array(s*r);if(t.isEnvelope){const{bbox:[x,m,h,u]}=t;for(let R=0,g=0;R<s;R++){const p=f+e*R,w=t.isPannable||p>=x&&p<=h;for(let M=0;M<r;M++,g++){const P=a-o*M;w&&P>=m&&P<=u&&(i.push([p,P]),l[g]=1)}}return{points:i,mask:l}}const d=t.coef,y=[];for(let x=0;x<r;x++){const m=a-o*x,h=[],u=[];for(let g=0;g<d.length;g++){const[p,w,M,P,_]=d[g];if(m===M&&M===P)h.push(p),h.push(w),u.push(2),u.push(2);else if(m>=M&&m<=P){const L=p*m+w;h.push(L),u.push(_)}}let R=h;if(h.length>2){let g=u[0]===2?0:u[0],p=h[0];R=[];for(let w=1;w<u.length;w++)u[w]===2&&w!==u.length-1||(u[w]!==g&&(R.push(g===0?Math.min(p,h[w-1]):Math.max(p,h[w-1])),g=u[w],p=h[w]),w===u.length-1&&R.push(u[w]===0?Math.min(p,h[w]):Math.max(p,h[w])));R.sort((w,M)=>w-M)}else h[0]>h[1]&&(R=[h[1],h[0]]);y.push(R)}for(let x=0,m=0;x<s;x++){const h=f+e*x;for(let u=0;u<r;u++,m++){const R=a-o*u,g=y[u];if(g.length===2)h>=g[0]&&h<=g[1]&&(i.push([h,R]),l[m]=1);else if(g.length>2){let p=!1;for(let w=0;w<g.length;w+=2)if(h>=g[w]&&h<=g[w+1]){p=!0;break}p&&(i.push([h,R]),l[m]=1)}}}return{points:i,mask:l}}function Ln(n,t){const[i,s]=t;for(let r=0;r<n.length;r++){const e=n[r][1];(e<i||e>s)&&(n[r]=[NaN,NaN])}}function pn(n,t){const i=G(n[0].spatialReference);if(n.length<2||i==null||(t=t??S(n[0].spatialReference),(n=n.filter(c=>c.width>t)).length===1))return n[0];let{xmin:s,xmax:r,ymin:e,ymax:o}=n[0];for(let c=1;c<n.length;c++){const f=n[c];r=f.xmax+i*c,e=Math.min(e,f.ymin),o=Math.max(o,f.ymax)}return new O({xmin:s,xmax:r,ymin:e,ymax:o,spatialReference:n[0].spatialReference})}function gn(n,t,i=null,s=!0){const r=n.spatialReference;if(r.equals(t))return n;const e=An(n),o=G(r,!0),c=G(t);if(e===0||o==null||c==null){const a=cn(n,t,i,s);if(o==null&&c!=null&&Math.abs(a.width-c)<S(t)&&I()){const l=T(r);if(l!=null&&l.poleLocation===V.None&&n.width<(l.bbox[2]-l.bbox[0])/2)return In(n,t)||a}return a}const f=n.clone().normalize();if(f.length===1&&n.xmax<o&&n.xmax-o/2>S(r)){const{xmin:a,xmax:l}=n;for(let d=0;d<=e;d++){const y=d===0?a:-o/2,x=d===e?l-o*d:o/2;f[d]=new O({xmin:y,xmax:x,ymin:n.ymin,ymax:n.ymax,spatialReference:r})}}return pn(f.map(a=>cn(a,t,i,s)).filter(Sn))}function Jn(n,t,i){if(n.type==="extent"){const{xmin:s,ymin:r,xmax:e,ymax:o,spatialReference:c}=n;n=new xn({rings:[[[s,o],[e,o],[e,r],[s,r],[s,o]]],spatialReference:c})}return n.spatialReference.equals(t)?n:($(n.spatialReference,t,i),C(n,t,i))}function In(n,t){const i=G(t);if(i==null)return null;let{xmin:s,ymin:r,xmax:e,ymax:o}=n;const c=n.spatialReference,f=new xn({spatialReference:c,rings:[[[s,r],[e,r],[e,o],[s,o],[s,r]]]}),a=C(f,t);if(a.rings.length!==2||!a.rings[0].length||!a.rings[1].length)return null;const{rings:l}=a,d=S(c),y=new O({spatialReference:t});for(let x=0;x<2;x++){s=e=l[x][0][0],r=o=l[x][0][1];for(let m=0;m<l[x].length;m++)s=s>l[x][m][0]?l[x][m][0]:s,e=e<l[x][m][0]?l[x][m][0]:e,r=r>l[x][m][1]?l[x][m][1]:r,o=o<l[x][m][1]?l[x][m][1]:o;if(x===0)y.ymin=r,y.ymax=o,y.xmin=s,y.xmax=e;else if(y.ymin=Math.min(y.ymin,r),y.ymax=Math.max(y.ymax,o),Math.abs(e-i/2)<d)y.xmin=s,y.xmax=y.xmax+i;else{if(!(Math.abs(s+i/2)<d))return null;y.xmax=e+i}}return y}function cn(n,t,i=null,s=!0,r=!0){const e=n.spatialReference;if(e.equals(t)||!t)return n;$(e,t,i);const o=C(n,t,i);if(r&&t.isWebMercator&&o&&(o.ymax=Math.min(20037508342787e-6,o.ymax),o.ymin=Math.max(-20037508342787e-6,o.ymin),o.ymin>=o.ymax))return null;if(!s||!o)return o;const c=B(e,!0),f=B(t,!0);if(c==null||f==null)return o;const a=S(e,.001),l=S(e,j),d=S(t,.001);if(Math.abs(o.xmin-f[0])<d&&Math.abs(o.xmax-f[1])<d){const y=Math.abs(n.xmin-c[0]),x=Math.abs(c[1]-n.xmax);if(y<a&&x>l){o.xmin=f[0];const m=[];m.push(new E(n.xmax,n.ymin,e)),m.push(new E(n.xmax,(n.ymin+n.ymax)/2,e)),m.push(new E(n.xmax,n.ymax,e));const h=m.map(u=>rn(u,t,i)).filter(u=>!isNaN(u==null?void 0:u.x)).map(u=>u.x);o.xmax=Math.max.apply(null,h)}if(x<a&&y>l){o.xmax=f[1];const m=[];m.push(new E(n.xmin,n.ymin,e)),m.push(new E(n.xmin,(n.ymin+n.ymax)/2,e)),m.push(new E(n.xmin,n.ymax,e));const h=m.map(u=>rn(u,t,i)).filter(u=>!isNaN(u==null?void 0:u.x)).map(u=>u.x);o.xmin=Math.min.apply(null,h)}}else{const y=S(t,.001);Math.abs(o.xmin-f[0])<y&&(o.xmin=f[0]),Math.abs(o.xmax-f[1])<y&&(o.xmax=f[1])}return o}function G(n,t=!1){if(!n)return null;const i=t?20037508342787e-6:20037508342788905e-9;return n.isWebMercator?2*i:n.wkid&&n.isGeographic?360:2*Tn[n.wkid]||null}function B(n,t=!1){if(n.isGeographic)return[-180,180];const i=G(n,t);return i!=null?[-i/2,i/2]:null}function fn(n,t,i,s){let r=(n-t)/i;return r-Math.floor(r)!=0?r=Math.floor(r):s&&(r-=1),r}function An(n,t=!1){const i=G(n.spatialReference);if(i==null)return 0;const s=t?0:-(i/2),r=S(n.spatialReference),e=!t&&Math.abs(n.xmax-i/2)<r?i/2:n.xmax,o=!t&&Math.abs(n.xmin+i/2)<r?-i/2:n.xmin;return fn(e,s,i,!0)-fn(o,s,i,!1)}function Xn(n){const t=n.storageInfo.origin.x,i=G(n.spatialReference,!0);if(i==null)return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const s=i/2,{nativePixelSize:r,storageInfo:e,extent:o}=n,{maximumPyramidLevel:c,blockWidth:f,pyramidScalingFactor:a}=e;let l=r.x;const d=[],y=n.transform!=null&&n.transform.type==="gcs-shift",x=t+(y?0:s),m=y?i-t:s-t;for(let h=0;h<=c;h++){const u=(o.xmax-t)/l/f,R=u-Math.floor(u)==0?u:Math.ceil(u),g=m/l/f,p=g-Math.floor(g)==0?g:Math.ceil(g),w=Math.floor(x/l/f),M=Math.round(x/l)%f,P=(f-Math.round(m/l)%f)%f;d.push({resolutionX:l,blockWidth:f,datasetColumnCount:R,worldColumnCountFromOrigin:p,leftMargin:M,rightPadding:P,originColumnOffset:w}),l*=a}return{originX:t,halfWorldWidth:s,pyramidsInfo:d,hasGCSSShiftTransform:y}}function Yn(n){if(!n||n.isGeographic)return n;const t=String(n.wkid||n.wkt2||n.wkt);let i;return K.has(t)?i=K.get(t):(i=(n.wkid?N.coordsys(n.wkid):N.fromString(k.PE_TYPE_PROJCS,n.wkt2||n.wkt)).getGeogcs().getCode(),K.set(t,i)),new vn({wkid:i})}function Kn(n){const t=n.isAdaptive&&n.spacing==null;let i=n.spacing||[A,A],s=U(n),r={cols:s.size[0]+1,rows:s.size[1]+1};const e=s.outofBoundPointCount>0&&s.outofBoundPointCount<s.offsets.length/2;let o=s.outofBoundPointCount===s.offsets.length/2||t&&e?[0,0]:on(s.offsets,r,i,J);const c=(o[0]+o[1])/2,f=n.projectedExtent.spatialReference,a=n.srcBufferExtent.spatialReference;if(t&&(e||c>J)&&(mn(f,a,n.datumTransformation)&&(f.isGeographic||T(f)),i=[Y,Y],s=U({...n,spacing:i}),r={cols:s.size[0]+1,rows:s.size[1]+1},o=on(s.offsets,r,i,J)),s.error=o,i[0]>1&&(s.coefficients=un(s.offsets,r,e)),n.includeGCSGrid&&!f.isGeographic&&!f.isWebMercator)if(a.isGeographic)s.gcsGrid={offsets:s.offsets,coefficients:s.coefficients,spacing:i};else{const l=T(f);if(l!=null&&!l.isEnvelope){const d=Yn(f),y=gn(n.projectedExtent,d),{offsets:x}=U({...n,srcBufferExtent:y,spacing:i}),m=un(x,r,e);s.gcsGrid={offsets:x,coefficients:m,spacing:i}}}return s}function U(n){const{projectedExtent:t,srcBufferExtent:i,pixelSize:s,datumTransformation:r,rasterTransform:e}=n,o=t.spatialReference,c=i.spatialReference,f=$(o,c),{xmin:a,ymin:l,xmax:d,ymax:y}=t,x=G(c),m=x!=null&&(n.hasWrapAround||(e==null?void 0:e.type)==="gcs-shift"),h=n.spacing||[A,A],u=h[0]*s.x,R=h[1]*s.y,g=h[0]===1,p=Math.ceil((d-a)/u-.1/h[0])+(g?0:1),w=Math.ceil((y-l)/R-.1/h[1])+(g?0:1),M=Wn({cols:p,rows:w,xmin:a,ymax:y,xres:u,yres:R,inSR:o,outSR:c,datumTransformation:r,preferPE:h[0]<=Y,usePixelCenter:g}),P=[];let _,L=0;const Z=g?-1:NaN,{xmin:H,xmax:F,ymax:yn,width:dn,height:wn}=i,Mn=S(c,j),Rn=x!=null&&H>0&&F>x/2;let Q=!1;if(f){const v=T(o);Q=v!=null&&v.poleLocation>0}for(let v=0;v<p;v++){const q=[];for(let W=0;W<w;W++){let b=M[v*w+W];if(m&&b[0]>F&&b[0]>x/2-Mn?b[0]-=x:m&&v===0&&b[0]<0&&Rn&&!e&&(b[0]+=x),!b||isNaN(b[0])||isNaN(b[1]))P.push(Z),P.push(Z),q.push(null),L++;else{if(e){const nn=e.inverseTransform(new E({x:b[0],y:b[1],spatialReference:c}));b=[nn.x,nn.y]}q.push(b),v>0&&m&&_[W]&&b[0]<_[W][0]&&(b[0]+=x,Q&&b[0]>F&&b[0]>x&&(b[0]-=x)),P.push((b[0]-H)/dn),P.push((yn-b[1])/wn)}}_=q}return{offsets:P,error:null,coefficients:null,outofBoundPointCount:L,spacing:h,size:g?[p,w]:[p-1,w-1]}}function un(n,t,i){const{cols:s,rows:r}=t,e=new Float32Array((s-1)*(r-1)*2*6),o=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),c=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let f=0;f<s-1;f++){for(let a=0;a<r-1;a++){let l=f*r*2+2*a;const d=n[l],y=n[l+1],x=n[l+2],m=n[l+3];l+=2*r;const h=n[l],u=n[l+1],R=n[l+2],g=n[l+3];let p=0,w=12*(a*(s-1)+f);for(let M=0;M<3;M++)e[w++]=o[p++]*d+o[p++]*x+o[p++]*R;p=0;for(let M=0;M<3;M++)e[w++]=o[p++]*y+o[p++]*m+o[p++]*g;p=0;for(let M=0;M<3;M++)e[w++]=c[p++]*d+c[p++]*h+c[p++]*R;p=0;for(let M=0;M<3;M++)e[w++]=c[p++]*y+c[p++]*u+c[p++]*g}if(i)for(let a=0;a<e.length;a++)isNaN(e[a])&&(e[a]=-1)}return e}function jn(n,t){const i=n.clone().normalize();return i.length===1?i[0]:pn(i,t)}function Un(n){const{spatialReference:t}=n,i=En(t);if(!i)return n;const[s,r]=i.valid,e=r-s;let o=0;if(n.xmin<s){const c=s-n.xmin;o=Math.ceil(c/e)}else if(n.xmin>r){const c=n.xmin-r;o=-Math.ceil(c/e)}return new O({spatialReference:n.spatialReference,xmin:n.xmin+o*e,ymin:n.ymin,xmax:n.xmax+o*e,ymax:n.ymax})}function Vn(n,t,i){var m;const{storageInfo:s,pixelSize:r}=t;let e=0,o=!1;const{pyramidResolutions:c}=s,f=((m=s.tileInfo.format)==null?void 0:m.toLowerCase())==="mixed"?Math.max(1,Math.min(3,s.tileInfo.dpi/96)):1,a=(n.x+n.y)/2/f;if(c!=null&&c.length){const h=c[c.length-1],u=(h.x+h.y)/2,R=(r.x+r.y)/2;if(a<=R)e=0;else if(a>=u)e=c.length,o=a/u>8;else{let p,w=R;for(let M=1;M<=c.length;M++){if(p=(c[M-1].x+c[M-1].y)/2,a<=p){a===p?e=M:i==="down"?(e=M-1,o=a/w>8):e=i==="up"||a-w>p-a||a/w>2?M:M-1;break}w=p}}const g=e===0?r:c[e-1];return o&&Math.min(g.x,g.y)*z(t.spatialReference)>19567&&(o=!1),{pyramidLevel:e,pyramidResolution:new E({x:g.x,y:g.y,spatialReference:t.spatialReference}),excessiveReading:o}}const l=Math.log(n.x/r.x)/Math.LN2,d=Math.log(n.y/r.y)/Math.LN2,y=t.storageInfo.maximumPyramidLevel||0;e=i==="down"?Math.floor(Math.min(l,d)):i==="up"?Math.ceil(Math.max(l,d)):Math.round((l+d)/2),e<0?e=0:e>y&&(o=e>y+3,e=y);const x=2**e;return{pyramidLevel:e,pyramidResolution:new E({x:x*t.nativePixelSize.x,y:x*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:o}}function Dn(n,t){const{pixelSize:i,extent:s}=n,r=Cn(s,t,!1);return gn(jn(s,(i.x+i.y)/16),t,r)}export{qn as C,Jn as D,rn as I,gn as K,G as V,Un as a,Dn as c,An as e,Kn as i,Cn as j,Vn as l,Xn as t,Fn as v,mn as w};
