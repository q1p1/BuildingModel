import{iw as f,ix as b,bH as m,cO as $,cK as y,e1 as C,iy as R,iz as j,iA as k,du as v,iB as x,iC as A}from"./index-DRz-hW7S.js";import{geodesicArea as w}from"./geometryEngine-DHr8E0pI.js";import{v as M}from"./viewUtils-Br4DozsG.js";import{r as O}from"./geodesicLengthMeasurementUtils-DySeTFUo.js";import{e as W}from"./earcut-Lltz9D9k.js";import{l as z}from"./TextOverlayItem-s_pt6Eqg.js";function Q(n){const{spatialReference:e}=n;return O(e,B,D,n)}function B(n){return f(Math.abs(M([n],"square-meters")[0]),"square-meters")}function D(n){try{return f(Math.abs(w(n,"square-meters")),"square-meters")}catch{return null}}function S(n,e=K()){return F(n,e,!1)}function F(n,e,s=n.hasZ){const i=z(n.spatialReference),a=b(i);if(a==null)return null;const d=(u,o)=>!(o.length<2)&&($(u,o[0],o[1],s&&o[2]||0),!0);let p=0;for(const u of n.rings){const o=u.length;if(o<3)continue;const{positionsWorldCoords:r}=e;for(;r.length<o;)r.push(m());const h=H,c=$(J,0,0,0),q=1/o;for(let t=0;t<o;t++){if(!d(h,u[t])||!y(h,n.spatialReference,r[t],i))return null;C(c,c,r[t],q)}const g=R(r[0],r[1],c,j());if(k(v(g))===0)continue;for(let t=0;t<o;t++)x(g,c,r[t],r[t]);const l=U(r);for(let t=0;t<l.length;t+=3)p+=A(r[l[t]],r[l[t+1]],r[l[t+2]])}return f(p,a)}const H=m(),J=m();function K(){return{positionsWorldCoords:[]}}function U(n){return W(Z(n),[],2)}function Z(n){const e=new Float64Array(2*n.length);for(let s=0;s<n.length;++s){const i=n[s],a=2*s;e[a]=i[0],e[a+1]=i[1]}return e}export{U,S as j,K as k,Q as o};
