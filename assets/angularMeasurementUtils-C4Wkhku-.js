import{dH as H,cf as $,cK as v,gC as z,gD as q,gE as I,dr as T,cO as R,gF as w,cz as C,bH as c,gG as u,e9 as k,gH as D}from"./index-BQRGWQBl.js";import{N as b,q as E,j as F,b as G}from"./viewUtils-BX5GNkns.js";var i;function K(e,n){if(e==null||n==null)return;const t=m(e,n);return t!=null?u(t,"radians","geographic"):void 0}(function(e){e.Absolute="absolute",e.Relative="relative",e.RelativeBilateral="relative-bilateral"})(i||(i={}));const m=(()=>{const e=c(),n=c();return(t,a)=>(R(e,t.x,t.y,t.z??0),R(n,a.x,a.y,a.z??0),L(e,n,t.spatialReference,a.spatialReference))})(),L=(()=>{const e=C(),n=c(),t=c();return(a,r,g,f)=>{if(H(a,r))return;const s=b(g),l=b(f);if(s&&l&&$(s,l)&&v(a,g,n,s)&&v(r,f,t,l)){const{azimuth:d}=E(O,n,t,s);return d!=null?z(d,"degrees","radians"):void 0}e[0]=r[0]-a[0],e[1]=r[1]-a[1];let o=q(I,e);return e[0]<0&&(o=P-o),o}})();function J(e,n,t,a=i.Absolute){if(n&&t)switch(a){case i.Absolute:return K(n,t);case i.Relative:return A(y(e,n,t),i.Relative);case i.RelativeBilateral:return A(y(e,n,t),i.RelativeBilateral)}}function y(e,n,t){if(!e||!n||!t)return;const a=m(e,n),r=m(n,t);return a!=null&&r!=null?u(r-a,"radians","geographic"):void 0}function A(e,n){if(e!=null)switch(n){case i.Absolute:return N(e);case i.Relative:{const t=p(e);let a=M.normalize(t,0,!0);return a===-180&&(a=180),u(a,"degrees","geographic")}case i.RelativeBilateral:{const t=p(e),a=Math.abs(M.normalize(t,0,!0));return u(a,"degrees","geographic")}}}function N(e){const n=p(e),t=U.normalize(n,0,!0);return u(t,"degrees","geographic")}const Q=(()=>{const e=c();return(n,t,a,r,g,f="geodesic")=>{T(e,t);const s=p(g);if(f==="geodesic"){const h=b(a);if(h&&v(e,a,e,h))return F(n,e,s,r,h),n[2]=t[2],!!v(n,h,n,a)}const l=w(s,"geographic","arithmetic"),o=z(l,"degrees","radians"),d=t[0]+r*Math.cos(o),x=t[1]+r*Math.sin(o),B=t[2];return R(n,d,x,B),!0}})();function p(e){if(e!=null)return w(j(e),e.rotationType,"geographic")}function S(e){if(e!=null)return w(j(e),e.rotationType,"arithmetic")}function j(e){return z(e.value,e.unit,"degrees")}const O=new G,P=2*Math.PI,U=k,M=new D(-180,180);export{N as A,Q as M,K as R,p as T,S as U,i as j,A as w,J as x,L as y};
