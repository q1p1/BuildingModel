import{q as n,x as c,z as m,b2 as f,b3 as h}from"./index-HdUx8m3z.js";async function u(t,s,r){const e=t.layer;if(n(e)){const i=await e.fetchTile(s[0],s[1],s[2],r);if(c(r))throw m.getLogger(t).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),f();return i}let o=t.getTileUrl(s);h(e)&&e.refreshTimestamp&&(o+=`${o.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);const a=t.hasMixedImageFormats?"image+type":"image";return r.requester.request(o,a,r)}export{u as i};
